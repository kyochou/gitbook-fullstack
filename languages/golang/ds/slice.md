# Slice
slice 代表变长的序列(数组). 一个 slice 类型一般写作 `[]T`.
每个数组的大小都是固定的. 而切片则为数组元素提供动态大小的, 灵活的视角.
切片通过两个下标来界定(下界和上界, 下界默认为 0, 上界默认为数组的长度). 它会选择一个半开区间, 包括第一个元素, 但排除最后一个元素.
切片就是数组的引用. 更改切片的元素会修改其底层数组中对应的元素.
**一个 slice 由三个部分构成: 指针, 长度和容量**. 指针指向第一个 slice 元素对应的底层数组的地址(并且**指针只能向前移动**); 长度就是它所包含的元素个数(使用表达式 `len(s)` 获取); **容量是从它的第一个元素开始数, 到其底层数组元素末尾的个数**(使用表达式 `cap(s)` 来获取).
多个 slice 之间可以共享底层数组.
切片的零值是 `nil`. `nil` 切片的长度和容量为 0 且没有底层数组.
和数组不同的是, slice 之间不能比较. 唯一合法的操作是和 `nil` 比较: `if s == nil {}`.
与任意类型的 nil 值一样, 我们可以用 `[]int(nil)` 类型转换表达式来生成一个对应类型 slice 的 nil 值.
用 make 函数创建切片, 这也是你创建动态数组的方式. make 函数会分配一个元素为零值的数组并返回一个引用了它的切片.
```go
// make(类型, 长度[, 容量])
make([]int, 5, 5)
```

切片可以包含任何类型, 甚至包含其它的切片.
使用 append 函数向切片追加元素. 当切片的底层数组太小, 不足以容纳所有给定的值时, 它就会分配一个更大的数组. 返回的切片会指向这个新分配的数组.
确切的说, 一个切片的底层数组永远不会被替换. 在无需扩容时, `append` 函数返回的是指向原底层数组的新切片, 而在需要扩容时, `append` 函数返回的是指向新底层数组的新切片.

## Definition

```go
// 定义
q := []int{1, 2, 3}
ss := []struct {
    i int
    b bool
} {
    {2, true},
    {3, false}
}
arr := [6]int{2, 3, 5, 7, 11, 13} // array
var s = arr[1:4] // slice, or arr[0:10], arr[:10], arr[0:], arr[:]

// 添加
slice = append(slice, val) // 需重新赋值
slice = append(slice, val1, val2) // 可同时添加多个元素
```

## Operation

```go
// 添加
slice = append(slice, val) // 需重新赋值
slice = append(slice, val1, val2) // 可同时添加多个元素
```